# 🧪 TipTap 编辑器功能测试指南

## 🚀 快速开始

### 1. 启动开发服务器
```bash
cd apps/web
npm run dev
```
访问: http://localhost:3001/test-editor

### 2. 运行自动化测试
```bash
cd apps/web
node test-features.js      # 基础检查
node detailed-test.js      # 详细测试
```

## 📋 测试清单

### ✅ 已完成的自动化测试
- [x] 扩展文件存在性检查
- [x] 代码结构和语法验证
- [x] 配置正确性检查
- [x] CSS 样式完整性验证
- [x] 组件集成测试

## 🎯 手动测试步骤

### 1. 字号功能测试

**测试步骤**:
1. 访问 http://localhost:3001/test-editor
2. 在编辑器中输入一些文字
3. 选中文字
4. 使用字号下拉菜单选择不同大小 (12px, 16px, 20px, 24px)
5. 观察文字大小变化

**预期结果**:
- 文字大小应该立即改变
- HTML 输出应该包含 `style="font-size: XXpx"`
- 可以设置和取消字号

**测试用例**:
```
输入: "这是测试文字"
选择: 18px
预期HTML: <span style="font-size: 18px">这是测试文字</span>
```

### 2. 段落间距功能测试

**测试步骤**:
1. 在编辑器中创建一个段落
2. 将光标放在段落中
3. 使用行高下拉菜单选择不同值 (1.2, 1.6, 2.0)
4. 观察段落行间距变化

**预期结果**:
- 段落行间距应该立即改变
- HTML 输出应该包含 `style="line-height: X.X"`
- 可以设置和取消行高

**测试用例**:
```
输入: "这是一个测试段落，用来验证行高功能是否正常工作。"
选择: 1.8
预期HTML: <p style="line-height: 1.8">这是一个测试段落...</p>
```

### 3. 有序列表功能测试

**测试步骤**:
1. 在编辑器中输入一些文字
2. 选中文字
3. 点击"有序列表"按钮
4. 按 Enter 创建新的列表项
5. 输入更多内容

**预期结果**:
- 文字应该转换为有序列表
- 显示数字编号 (1, 2, 3...)
- HTML 输出应该包含 `<ol class="tiptap-ordered-list">`
- 每个列表项应该有 `<li class="tiptap-list-item">`

**测试用例**:
```
输入: "第一项"
点击: 有序列表按钮
预期HTML: <ol class="tiptap-ordered-list"><li class="tiptap-list-item">第一项</li></ol>
```

### 4. 无序列表功能测试

**测试步骤**:
1. 在编辑器中输入一些文字
2. 选中文字
3. 点击"无序列表"按钮
4. 按 Enter 创建新的列表项
5. 输入更多内容

**预期结果**:
- 文字应该转换为无序列表
- 显示项目符号 (•)
- HTML 输出应该包含 `<ul class="tiptap-bullet-list">`
- 每个列表项应该有 `<li class="tiptap-list-item">`

**测试用例**:
```
输入: "第一项"
点击: 无序列表按钮
预期HTML: <ul class="tiptap-bullet-list"><li class="tiptap-list-item">第一项</li></ul>
```

## 🔍 调试面板测试

### 访问调试面板
1. 访问 http://localhost:3001/test-editor
2. 点击"调试面板"标签页
3. 点击"运行测试"按钮

### 预期结果
- 配置验证: ✅ 通过
- 字号功能: ✅ 通过
- 段落间距功能: ✅ 通过
- 有序列表功能: ✅ 通过
- 无序列表功能: ✅ 通过
- 测试通过率: 4/4

## 🐛 常见问题排查

### 问题 1: 字号不生效
**检查项**:
- [ ] 是否选中了文字
- [ ] 是否正确导入了 TextStyle 扩展
- [ ] CSS 中是否有字号样式支持

### 问题 2: 段落间距不显示
**检查项**:
- [ ] 光标是否在段落中
- [ ] 是否使用了自定义的 ParagraphSpacing 扩展
- [ ] StarterKit 中的 paragraph 是否已禁用

### 问题 3: 列表不显示
**检查项**:
- [ ] 是否正确配置了 OrderedList, BulletList, ListItem
- [ ] StarterKit 中的列表扩展是否已禁用
- [ ] CSS 中是否有列表样式

### 问题 4: HTML 输出不正确
**检查项**:
- [ ] 查看浏览器控制台是否有错误
- [ ] 检查扩展的 renderHTML 方法
- [ ] 验证属性解析是否正确

## 📊 测试报告模板

```
测试日期: ___________
测试人员: ___________

功能测试结果:
□ 字号功能 - 通过/失败
□ 段落间距功能 - 通过/失败  
□ 有序列表功能 - 通过/失败
□ 无序列表功能 - 通过/失败

浏览器兼容性:
□ Chrome - 通过/失败
□ Firefox - 通过/失败
□ Safari - 通过/失败
□ Edge - 通过/失败

问题记录:
1. ___________
2. ___________
3. ___________

总体评价: ___________
```

## 🎉 测试完成确认

当所有测试都通过时，你应该能够:

1. ✅ 在编辑器中调整文字大小
2. ✅ 设置段落行高和边距
3. ✅ 创建和编辑有序列表
4. ✅ 创建和编辑无序列表
5. ✅ 看到正确的 HTML 输出
6. ✅ 在调试面板中看到所有测试通过

**恭喜！🎊 所有四个功能都已成功实现并可以正常使用！**